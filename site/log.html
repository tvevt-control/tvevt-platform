<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TVEVT — Execution Log</title>
  <meta name="description" content="Execution Log — immutable by design. Append-only proof of execution." />
  <link rel="icon" href="/tvevt-favicon.svg" type="image/svg+xml" />

  <style>
    :root{
      --bg0:#0b0d10;
      --bg1:#0f1217;
      --panel:#12161d;
      --panel2:#10141a;
      --stroke:rgba(255,255,255,.10);
      --stroke2:rgba(255,255,255,.14);
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.68);
      --muted2:rgba(255,255,255,.54);
      --accent:#f39a2b;
      --accent2:#f7b04f;
      --ok:#35c27a;
      --warn:#f2c94c;
      --bad:#ff5a6a;
      --shadow: 0 20px 60px rgba(0,0,0,.45);
      --radius: 18px;
      --radius2: 14px;
      --max: 1120px;
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:var(--font);
      color:var(--text);
      background:
        radial-gradient(900px 500px at 20% 15%, rgba(243,154,43,.18), transparent 60%),
        radial-gradient(900px 500px at 85% 25%, rgba(122,167,255,.16), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
    }

    a{color:inherit; text-decoration:none}
    .wrap{max-width:var(--max); margin:0 auto; padding:22px 18px 40px}

    /* Top bar */
    .topbar{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 14px;
      border:1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border-radius: 22px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      position: sticky;
      top: 12px;
      z-index: 10;
    }
    .brand{display:flex; align-items:center; gap:10px; padding:6px 10px}
    .mark{
      width:34px; height:34px; border-radius:12px;
      border:1px solid var(--stroke2);
      background: radial-gradient(circle at 30% 30%, rgba(243,154,43,.35), rgba(243,154,43,.10) 60%, rgba(255,255,255,.02));
      display:grid; place-items:center;
      overflow:hidden;
    }
    .mark img{width:22px; height:22px; opacity:.95}
    .brand .t1{font-weight:800; letter-spacing:.3px; line-height:1}
    .brand .t2{font-size:12px; color:var(--muted2); margin-top:2px}
    .nav{display:flex; gap:8px; align-items:center; flex-wrap:wrap; justify-content:flex-end}
    .pill{
      padding:9px 12px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.03);
      color: rgba(255,255,255,.82);
      font-size:13px;
      line-height:1;
      user-select:none;
    }
    .pill:hover{border-color: rgba(255,255,255,.18)}
    .pill.active{
      border-color: rgba(243,154,43,.45);
      background: rgba(243,154,43,.14);
      color: rgba(255,255,255,.92);
    }
    .cta{
      padding:10px 14px;
      border-radius:999px;
      border:1px solid rgba(243,154,43,.55);
      background: linear-gradient(180deg, rgba(243,154,43,.95), rgba(243,154,43,.78));
      color:#20170a;
      font-weight:800;
      font-size:13px;
      line-height:1;
      box-shadow: 0 10px 24px rgba(243,154,43,.18);
    }

    /* Hero */
    .hero{
      margin-top:18px;
      border:1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      border-radius: var(--radius);
      padding:20px 20px 18px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
    }
    .kicker{
      display:inline-flex; gap:10px; align-items:center;
      color: var(--muted);
      font-size:12px;
      padding:6px 10px;
      border:1px solid var(--stroke);
      border-radius:999px;
      background: rgba(255,255,255,.03);
    }
    .dot{width:8px;height:8px;border-radius:99px;background:var(--accent)}
    h1{
      margin:12px 0 8px;
      font-size:44px;
      line-height:1.05;
      letter-spacing:-.6px;
    }
    .lead{color:var(--muted); max-width: 900px; line-height:1.55}
    .actions{display:flex; gap:10px; flex-wrap:wrap; margin-top:14px}
    .btn{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.03);
      color: rgba(255,255,255,.88);
      font-weight:650;
      font-size:13px;
      cursor:pointer;
    }
    .btn:hover{border-color: rgba(255,255,255,.18)}
    .btn.primary{
      border-color: rgba(243,154,43,.50);
      background: rgba(243,154,43,.14);
    }
    .note{margin-top:10px; color:var(--muted2); font-size:12px; line-height:1.45}

    /* Grid */
    .grid{
      margin-top:16px;
      display:grid;
      grid-template-columns: 1.4fr .8fr;
      gap:14px;
    }
    @media (max-width: 980px){
      .grid{grid-template-columns:1fr}
      h1{font-size:36px}
      .topbar{position:relative; top:auto}
    }

    .card{
      border:1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border-radius: var(--radius2);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .card .hd{
      padding:14px 14px 10px;
      border-bottom:1px solid var(--stroke);
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
    }
    .card .hd .title{font-weight:800}
    .card .bd{padding:14px}

    .filters{display:flex; flex-wrap:wrap; gap:8px}
    .chip{
      padding:8px 10px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.03);
      font-size:12px;
      color: rgba(255,255,255,.82);
      cursor:pointer;
      user-select:none;
    }
    .chip.active{
      border-color: rgba(243,154,43,.45);
      background: rgba(243,154,43,.14);
    }

    table{
      width:100%;
      border-collapse:collapse;
      font-size:13px;
    }
    th,td{padding:10px 10px; border-bottom:1px solid rgba(255,255,255,.08); vertical-align:top}
    th{color:var(--muted2); font-weight:700; text-align:left; font-size:12px; letter-spacing:.2px}
    .empty{color:var(--muted2); padding:14px; font-size:13px}

    .badge{
      display:inline-flex;
      padding:6px 10px;
      border-radius:999px;
      font-size:12px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.03);
      color: rgba(255,255,255,.85);
      white-space:nowrap;
    }
    .b-ok{border-color: rgba(53,194,122,.45); background: rgba(53,194,122,.12)}
    .b-warn{border-color: rgba(242,201,76,.45); background: rgba(242,201,76,.12)}
    .b-bad{border-color: rgba(255,90,106,.45); background: rgba(255,90,106,.12)}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}

    .doctrine .row{
      display:flex; align-items:flex-start; justify-content:space-between; gap:12px;
      padding:12px 12px;
      border:1px solid rgba(255,255,255,.08);
      border-radius:14px;
      background: rgba(255,255,255,.02);
      margin-bottom:10px;
    }
    .doctrine .row:last-child{margin-bottom:0}
    .doctrine .h{font-weight:800; font-size:13px}
    .doctrine .p{color:var(--muted2); font-size:12px; line-height:1.45; margin-top:4px}
    .count{
      min-width:28px;
      height:28px;
      border-radius:10px;
      border:1px solid var(--stroke);
      display:grid;
      place-items:center;
      font-weight:800;
      color: rgba(255,255,255,.88);
      background: rgba(255,255,255,.03);
    }

    .footer{
      margin-top:14px;
      display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap;
      color: var(--muted2);
      font-size:12px;
      padding: 12px 4px 0;
    }
    .footlinks{display:flex; gap:12px; flex-wrap:wrap}
    .footlinks a{color: rgba(255,255,255,.72); text-decoration:underline; text-underline-offset:3px}
  </style>
</head>

<body>
  <div class="wrap">

    <header class="topbar">
      <a class="brand" href="/?x=1">
        <span class="mark"><img src="/tvevt-favicon.svg" alt="TVEVT"></span>
        <span>
          <div class="t1">TVEVT</div>
          <div class="t2">Governance Console</div>
        </span>
      </a>

      <nav class="nav" aria-label="Top navigation">
        <a class="pill" href="/app.html?x=1">Console</a>
        <a class="pill active" href="/log.html?x=1">Log</a>
        <a class="pill" href="/#pricing">Packages</a>
        <a class="cta" href="/request-access.html?x=1">Request Access</a>
      </nav>
    </header>

    <section class="hero">
      <div class="kicker"><span class="dot"></span> Immutable record • Proof of execution • Governance surface</div>
      <h1>Execution Log — immutable by design.</h1>
      <p class="lead">
        This page demonstrates the doctrine: <b>no deletions, no silent edits</b> — only append.
        It answers one question every organization eventually asks: <b>what was executed, where, and when?</b>
      </p>

      <div class="actions">
        <a class="btn primary" href="/app.html?x=1">Open Console</a>
        <button class="btn" id="exportBtn" type="button">Export (JSON)</button>
        <button class="btn" id="seedBtn" type="button">Seed demo entries</button>
        <button class="btn" id="resetBtn" type="button">Reset demo (local)</button>
      </div>

      <div class="note">
        Note: this is a UI demo. It stores entries in your browser (<span class="mono">localStorage</span>) to simulate immutability.
        In v1.1 this maps to KV/DB (append-only) + retention by plan.
      </div>
    </section>

    <section class="grid">
      <div class="card">
        <div class="hd">
          <div class="title">Filters</div>
          <div class="filters" id="filters"></div>
        </div>

        <div class="bd">
          <table aria-label="Execution log table">
            <thead>
              <tr>
                <th style="width:170px;">TIME</th>
                <th style="width:110px;">CHANNEL</th>
                <th>PAYLOAD</th>
                <th style="width:130px;">STATUS</th>
              </tr>
            </thead>
            <tbody id="tbody">
              <tr><td colspan="4" class="empty">No entries yet. Click “Seed demo entries”.</td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <aside class="card doctrine">
        <div class="hd">
          <div class="title">Doctrine</div>
          <div class="badge mono">v1.1</div>
        </div>
        <div class="bd">
          <div class="row">
            <div>
              <div class="h">Append-only log</div>
              <div class="p">Entries can be added. Not removed. Not silently edited.</div>
            </div>
            <div class="count" id="c_all">0</div>
          </div>

          <div class="row">
            <div>
              <div class="h">Proof surface</div>
              <div class="p">Execution becomes verifiable output: channel + time + payload + status.</div>
            </div>
            <div class="count" id="c_sent">0</div>
          </div>

          <div class="row">
            <div>
              <div class="h">Governance link</div>
              <div class="p">Approvals determine what reaches “sent”. Plans remain “planned”.</div>
            </div>
            <div class="count" id="c_planned">0</div>
          </div>

          <div class="row">
            <div>
              <div class="h">Audit mindset</div>
              <div class="p">In v1.1 this becomes immutable storage + retention by plan.</div>
            </div>
            <div class="count" id="c_failed">0</div>
          </div>

          <div class="row">
            <div>
              <div class="h">Governance Console</div>
              <div class="p">Workspace + roles + drafts + approvals + immutable log = sellable control.</div>
            </div>
            <div class="count">✓</div>
          </div>
        </div>
      </aside>
    </section>

    <div class="footer">
      <div>© 2026 TVEVT — Governance Console</div>
      <div class="footlinks">
        <a href="/#pricing">Packages</a>
        <a href="/app.html?x=1">Console</a>
        <a href="/log.html?x=1">Log</a>
        <a href="/request-access.html?x=1">Request Access</a>
      </div>
    </div>

  </div>

  <script>
    // ===== TVEVT Execution Log (Demo) =====
    const KEY = "tvevt_execution_log_v1";
    const filtersEl = document.getElementById("filters");
    const tbody = document.getElementById("tbody");

    const cAll = document.getElementById("c_all");
    const cSent = document.getElementById("c_sent");
    const cPlanned = document.getElementById("c_planned");
    const cFailed = document.getElementById("c_failed");

    const FILTERS = [
      { id:"all", label:"All" },
      { id:"Telegram", label:"Telegram" },
      { id:"LinkedIn", label:"LinkedIn" },
      { id:"Email", label:"Email" },
      { id:"X", label:"X" },
      { id:"Sent", label:"Sent" },
      { id:"Planned", label:"Planned" },
      { id:"Failed", label:"Failed" },
    ];

    let state = { filter: "all" };

    function load(){
      try{
        const raw = localStorage.getItem(KEY);
        return raw ? JSON.parse(raw) : [];
      }catch(e){
        return [];
      }
    }

    function save(items){
      localStorage.setItem(KEY, JSON.stringify(items));
    }

    function badgeForStatus(s){
      if(s === "Sent") return `<span class="badge b-ok">${s}</span>`;
      if(s === "Planned") return `<span class="badge b-warn">${s}</span>`;
      if(s === "Failed") return `<span class="badge b-bad">${s}</span>`;
      return `<span class="badge">${s}</span>`;
    }

    function renderFilters(){
      filtersEl.innerHTML = FILTERS.map(f => {
        const active = (state.filter === f.id) ? "active" : "";
        return `<span class="chip ${active}" data-id="${f.id}">${f.label}</span>`;
      }).join("");

      filtersEl.querySelectorAll(".chip").forEach(ch => {
        ch.addEventListener("click", () => {
          state.filter = ch.getAttribute("data-id");
          renderFilters();
          renderTable();
        });
      });
    }

    function applyFilter(items){
      const f = state.filter;
      if(f === "all") return items;

      // channel filters
      if(["Telegram","LinkedIn","Email","X"].includes(f)){
        return items.filter(x => x.channel === f);
      }
      // status filters
      if(["Sent","Planned","Failed"].includes(f)){
        return items.filter(x => x.status === f);
      }
      return items;
    }

    function renderCounts(items){
      cAll.textContent = items.length;
      cSent.textContent = items.filter(x => x.status === "Sent").length;
      cPlanned.textContent = items.filter(x => x.status === "Planned").length;
      cFailed.textContent = items.filter(x => x.status === "Failed").length;
    }

    function renderTable(){
      const items = load().sort((a,b) => (b.time||"").localeCompare(a.time||""));
      renderCounts(items);

      const view = applyFilter(items);
      if(view.length === 0){
        tbody.innerHTML = `<tr><td colspan="4" class="empty">No entries match this filter.</td></tr>`;
        return;
      }

      tbody.innerHTML = view.map(x => {
        const payload = (x.payload || "").replaceAll("<","&lt;").replaceAll(">","&gt;");
        return `
          <tr>
            <td class="mono">${x.time || "—"}</td>
            <td>${x.channel || "—"}</td>
            <td>${payload || "—"}</td>
            <td>${badgeForStatus(x.status || "—")}</td>
          </tr>
        `;
      }).join("");
    }

    function seed(){
      const now = Date.now();
      const demo = [
        { time: new Date(now-1000*60*18).toISOString(), channel:"Telegram", payload:"Weekly update: governance console shipping. Console → Log → Packages. No deletions, append-only proof.", status:"Sent" },
        { time: new Date(now-1000*60*16).toISOString(), channel:"LinkedIn", payload:"Announcement draft: First in the world Governance Console for controlled publishing. Awaiting approval.", status:"Planned" },
        { time: new Date(now-1000*60*14).toISOString(), channel:"Email", payload:"Client note: we can prove what was executed, where, and when — with immutable logging.", status:"Planned" },
        { time: new Date(now-1000*60*12).toISOString(), channel:"X", payload:"Execution blocked: connector not configured (demo).", status:"Failed" }
      ];
      const current = load();
      save(current.concat(demo));
      renderTable();
    }

    function reset(){
      localStorage.removeItem(KEY);
      renderTable();
    }

    function exportJson(){
      const items = load();
      const blob = new Blob([JSON.stringify(items, null, 2)], {type:"application/json"});
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "tvevt-execution-log.json";
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
    }

    document.getElementById("seedBtn").addEventListener("click", seed);
    document.getElementById("resetBtn").addEventListener("click", reset);
    document.getElementById("exportBtn").addEventListener("click", exportJson);

    renderFilters();
    renderTable();
  </script>
</body>
</html>
